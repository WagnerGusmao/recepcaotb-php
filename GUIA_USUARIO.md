# üë§ Guia do Usu√°rio - Sistema Terra do Bugio

Manual completo para utiliza√ß√£o do Sistema de Recep√ß√£o Terra do Bugio.

> **üéâ Vers√£o 1.1.0**: Sistema com interface melhorada, formul√°rios padronizados e base de dados limpa para melhor experi√™ncia do usu√°rio!

## üìã √çndice

- [Primeiros Passos](#primeiros-passos)
- [Cadastro de Pessoas](#cadastro-de-pessoas)
- [Registro de Frequ√™ncia](#registro-de-frequ√™ncia)
- [Relat√≥rios](#relat√≥rios)
- [Gerenciamento de Usu√°rios](#gerenciamento-de-usu√°rios)
- [Sistema de Duplicatas](#sistema-de-duplicatas)
- [Configura√ß√µes](#configura√ß√µes)
- [Dicas e Truques](#dicas-e-truques)
- [Perguntas Frequentes](#perguntas-frequentes)

## üöÄ Primeiros Passos

### Acessando o Sistema
1. **Abra seu navegador** (Chrome, Firefox, Edge)
2. **Digite o endere√ßo**: http://localhost:3000
3. **Voc√™ ver√° a p√°gina inicial** com o formul√°rio de cadastro

### Fazendo Login no Painel Administrativo
1. **Na p√°gina inicial**, clique em **"Entrar no Sistema"**
2. **Digite suas credenciais**:
   - Email: seu email de usu√°rio
   - Senha: sua senha
3. **Clique em "Entrar"**
4. **Voc√™ ser√° direcionado** para o painel administrativo

### Credenciais Padr√£o (Administrador)
- **Email**: admin@terradobugio.com
- **Senha**: admin123

‚ö†Ô∏è **Importante**: Altere a senha padr√£o no primeiro acesso!

### Interface do Painel
O painel administrativo possui um menu com as seguintes op√ß√µes:
- **üè† In√≠cio**: P√°gina principal
- **üìä Frequ√™ncia**: Registro de presen√ßas
- **üë§ Cadastrar Pessoa**: Novo cadastro no painel
- **üìà Relat√≥rios**: Visualiza√ß√£o e exporta√ß√£o de dados
- **üë• Usu√°rios**: Gerenciamento de usu√°rios (apenas admins)
- **üîç Duplicatas**: Sistema de detec√ß√£o e mesclagem
- **‚öôÔ∏è Configura√ß√µes**: Perfil e configura√ß√µes pessoais

## üë• Cadastro de Pessoas

### Cadastro na P√°gina Principal

#### Acessando o Formul√°rio
1. **Acesse**: http://localhost:3000
2. **Voc√™ ver√° o formul√°rio** de cadastro na p√°gina inicial

#### Preenchendo os Dados

##### Campos Obrigat√≥rios
- **Nome Completo**: Digite o nome completo da pessoa
  - M√≠nimo 3 caracteres
  - Apenas letras e espa√ßos

##### Campos Opcionais
- **CPF**: Digite apenas n√∫meros (m√°scara autom√°tica)
  - Formato: 000.000.000-00
  - Valida√ß√£o autom√°tica do algoritmo
  - Deve ser √∫nico no sistema

- **Data de Nascimento**: Selecione no calend√°rio
  - Formato: DD/MM/AAAA

- **Religi√£o**: Digite a religi√£o da pessoa
  - Campo texto livre

- **Cidade**: Digite a cidade
  - Campo texto livre

- **Estado**: Selecione no dropdown
  - Lista com todos os estados brasileiros

- **Telefone**: Digite o telefone (m√°scara autom√°tica)
  - Formato: (00) 00000-0000
  - Aceita celular e fixo

- **E-mail**: Digite o email
  - Valida√ß√£o de formato autom√°tica
  - Exemplo: nome@email.com

- **Indica√ß√£o**: Como soube do local
  - Campo texto livre
  - Ex: "Amigo", "Internet", "Panfleto"

- **Observa√ß√µes**: Informa√ß√µes adicionais
  - Campo texto longo
  - Ex: "Primeira visita", "Tem dificuldade de locomo√ß√£o"

#### Finalizando o Cadastro
1. **Preencha os campos** desejados
2. **Clique em "Cadastrar"**
3. **Aguarde a confirma√ß√£o** (aparecer√° mensagem verde)
4. **O formul√°rio ser√° limpo** automaticamente

### Cadastro no Painel Administrativo

#### Acessando o Formul√°rio
1. **Fa√ßa login** no painel administrativo
2. **Clique em "üë§ Cadastrar Pessoa"** no menu
3. **Preencha o formul√°rio** (mesmos campos da p√°gina principal)
4. **Clique em "Cadastrar Pessoa"**

#### Vantagens do Cadastro no Painel
- ‚úÖ **N√£o precisa sair** do painel administrativo
- ‚úÖ **Mesmas valida√ß√µes** da p√°gina principal
- ‚úÖ **Interface consistente** com o sistema
- ‚úÖ **Dispon√≠vel para todos** os usu√°rios logados

### Editando Pessoas Cadastradas

#### Buscando a Pessoa
1. **No painel**, clique em **"üìä Frequ√™ncia"**
2. **Digite o nome ou CPF** no campo de busca
3. **Clique em "Buscar"**
4. **Selecione a pessoa** na lista de resultados

#### Editando os Dados
1. **Os dados aparecer√£o** nos campos do formul√°rio
2. **Altere as informa√ß√µes** desejadas
3. **Clique em "Atualizar Dados"**
4. **Confirme a atualiza√ß√£o**

## üìä Registro de Frequ√™ncia

### Acessando o Sistema de Frequ√™ncia
1. **No painel**, clique em **"üìä Frequ√™ncia"**
2. **Voc√™ ver√° a interface** de registro de frequ√™ncia

### Buscando uma Pessoa

#### M√©todos de Busca
- **Por Nome**: Digite parte do nome
- **Por CPF**: Digite o CPF completo ou parcial
- **Por Cidade**: Digite a cidade

#### Realizando a Busca
1. **Digite o termo** no campo "Buscar pessoa"
2. **Clique em "Buscar"** ou pressione Enter
3. **Selecione a pessoa** na lista de resultados
4. **Os dados aparecer√£o** no formul√°rio

### Registrando a Frequ√™ncia

#### Tipos de Frequ√™ncia Dispon√≠veis
- **Geral**: Atendimento padr√£o
- **Hospital**: Atendimento hospitalar
- **Hospital Acompanhante**: Acompanhando algu√©m no hospital
- **Pet Tutor**: Tutor trazendo pet para atendimento
- **Pet**: Atendimento direto do pet

#### Preenchendo o Registro
1. **Selecione o tipo** de frequ√™ncia
2. **Digite o n√∫mero da senha** (obrigat√≥rio)
3. **Para tipo "Pet Tutor"**:
   - Digite tamb√©m a senha do tutor
   - Digite a senha do pet
4. **A data** ser√° preenchida automaticamente (hoje)
5. **Clique em "Registrar Frequ√™ncia"**

#### Valida√ß√µes Autom√°ticas
- ‚úÖ **Pessoa deve existir** no sistema
- ‚úÖ **N√∫mero da senha** √© obrigat√≥rio
- ‚úÖ **N√£o permite duplicatas** na mesma data
- ‚úÖ **Senhas espec√≠ficas** para pet tutor/pet

### Mensagens do Sistema
- **Verde**: Frequ√™ncia registrada com sucesso
- **Amarelo**: Aviso (ex: pessoa j√° tem frequ√™ncia hoje)
- **Vermelho**: Erro (ex: dados inv√°lidos)

## üìà Relat√≥rios

### Acessando os Relat√≥rios
1. **No painel**, clique em **"üìà Relat√≥rios"**
2. **Escolha o tipo** de relat√≥rio desejado

### Tipos de Relat√≥rios Dispon√≠veis

#### 1. Relat√≥rio Geral
**Descri√ß√£o**: Lista todas as frequ√™ncias com filtros

**Filtros Dispon√≠veis**:
- **Data In√≠cio**: Filtrar a partir de uma data
- **Data Fim**: Filtrar at√© uma data
- **Tipo de Frequ√™ncia**: Filtrar por tipo espec√≠fico
- **Pessoa**: Filtrar por pessoa espec√≠fica

**Como Usar**:
1. **Selecione os filtros** desejados
2. **Clique em "Gerar Relat√≥rio"**
3. **Visualize os dados** na tela
4. **Exporte** se necess√°rio

#### 2. Relat√≥rio Mensal
**Descri√ß√£o**: Estat√≠sticas agrupadas por m√™s

**Informa√ß√µes Mostradas**:
- Total de frequ√™ncias por m√™s
- Distribui√ß√£o por tipo de atendimento
- Gr√°ficos de evolu√ß√£o mensal
- Comparativo entre meses

#### 3. Relat√≥rio de Contatos
**Descri√ß√£o**: Lista pessoas com dados de contato

**Informa√ß√µes Inclu√≠das**:
- Nome completo
- Telefone
- E-mail
- Cidade/Estado
- Data do √∫ltimo cadastro

**Utilidade**: Para campanhas de comunica√ß√£o

#### 4. Relat√≥rio por Cidades
**Descri√ß√£o**: Distribui√ß√£o geogr√°fica dos atendimentos

**Informa√ß√µes Mostradas**:
- Total de pessoas por cidade
- Total de frequ√™ncias por regi√£o
- Ranking de cidades mais ativas
- Mapa de distribui√ß√£o

#### 5. Relat√≥rio de Cadastros
**Descri√ß√£o**: Estat√≠sticas gerais do sistema

**Informa√ß√µes Inclu√≠das**:
- Total de pessoas cadastradas
- Crescimento de cadastros por per√≠odo
- Dados demogr√°ficos b√°sicos
- Estat√≠sticas de utiliza√ß√£o

### Exportando Relat√≥rios

#### Formatos Dispon√≠veis
- **PDF**: Para impress√£o e apresenta√ß√µes
- **CSV**: Para planilhas (Excel, Google Sheets)
- **XLSX**: Formato Excel nativo

#### Como Exportar
1. **Gere o relat√≥rio** desejado
2. **Clique no bot√£o** do formato desejado
3. **O arquivo ser√° baixado** automaticamente
4. **Abra o arquivo** no programa apropriado

### Dicas para Relat√≥rios
- üìä **Use filtros** para relat√≥rios mais espec√≠ficos
- üìÖ **Defina per√≠odos** para an√°lises temporais
- üíæ **Exporte regularmente** para backup
- üìà **Compare per√≠odos** para identificar tend√™ncias

## üë• Gerenciamento de Usu√°rios

> **Nota**: Esta funcionalidade est√° dispon√≠vel apenas para **Administradores**

### Acessando o Gerenciamento
1. **Fa√ßa login** como administrador
2. **Clique em "üë• Usu√°rios"** no menu
3. **Voc√™ ver√° a lista** de todos os usu√°rios

### Visualizando Usu√°rios

#### Informa√ß√µes Mostradas
- **Nome**: Nome completo do usu√°rio
- **E-mail**: E-mail de login
- **Tipo**: N√≠vel de permiss√£o
- **Status**: Ativo/Inativo
- **Pessoa Vinculada**: Se vinculado a alguma pessoa
- **Data de Cria√ß√£o**: Quando foi criado
- **A√ß√µes**: Bot√µes de a√ß√£o dispon√≠veis

#### Tipos de Usu√°rio
- **Administrador**: Acesso total ao sistema
- **Respons√°vel**: Gerenciamento de pessoas e frequ√™ncias
- **Geral**: Opera√ß√µes b√°sicas

### Criando Novos Usu√°rios

#### Passo a Passo
1. **Clique em "Criar Usu√°rio"**
2. **Preencha os dados**:
   - Nome completo
   - E-mail (deve ser √∫nico)
   - Tipo de usu√°rio
   - Pessoa vinculada (opcional)
3. **Clique em "Salvar"**
4. **O sistema gerar√°** uma senha tempor√°ria
5. **Anote a senha** e repasse ao usu√°rio

#### Senha Tempor√°ria
- O usu√°rio **deve trocar** a senha no primeiro login
- A senha tempor√°ria √© mostrada **apenas uma vez**
- Se perder, use a fun√ß√£o "Reset de Senha"

### Gerenciando Usu√°rios Existentes

#### Ativar/Desativar Usu√°rio
1. **Localize o usu√°rio** na lista
2. **Clique no bot√£o** "Ativar" ou "Desativar"
3. **Confirme a a√ß√£o**
4. **Usu√°rios inativos** n√£o conseguem fazer login

#### Reset de Senha
1. **Clique em "Reset Senha"** na linha do usu√°rio
2. **Confirme a a√ß√£o**
3. **Uma nova senha** ser√° gerada
4. **Anote a senha** e repasse ao usu√°rio
5. **O usu√°rio deve trocar** no pr√≥ximo login

#### Editar Usu√°rio
1. **Clique em "Editar"** na linha do usu√°rio
2. **Altere as informa√ß√µes** desejadas
3. **N√£o √© poss√≠vel alterar** o e-mail
4. **Clique em "Salvar"**

#### Excluir Usu√°rio
1. **Clique em "Excluir"** na linha do usu√°rio
2. **Confirme a exclus√£o** (a√ß√£o irrevers√≠vel)
3. **O usu√°rio ser√° removido** permanentemente

### Gerenciando Seu Pr√≥prio Perfil

#### Editando Perfil
1. **Clique em "‚öôÔ∏è Configura√ß√µes"** no menu
2. **Selecione "Editar Perfil"**
3. **Altere nome e e-mail**
4. **Clique em "Salvar"**

#### Alterando Senha
1. **Em Configura√ß√µes**, clique **"Alterar Senha"**
2. **Digite a senha atual**
3. **Digite a nova senha** (duas vezes)
4. **Clique em "Alterar"**
5. **Fa√ßa login novamente** com a nova senha

## üîç Sistema de Duplicatas

### O que s√£o Duplicatas?
Duplicatas s√£o **pessoas cadastradas mais de uma vez** no sistema com pequenas varia√ß√µes nos dados (ex: "Jo√£o Silva" e "Joao da Silva").

### Acessando o Sistema
1. **No painel**, clique em **"üîç Duplicatas"**
2. **Voc√™ ver√° a interface** de an√°lise de duplicatas

### Analisando Duplicatas

#### Iniciando a An√°lise
1. **Clique em "Analisar Duplicatas"**
2. **O sistema processar√°** todas as pessoas cadastradas
3. **Acompanhe o progresso** na tela
4. **Aguarde a conclus√£o** (pode levar alguns minutos)

#### Informa√ß√µes do Processamento
Durante a an√°lise, voc√™ ver√°:
- **Progresso**: Percentual conclu√≠do
- **Tempo decorrido**: Quanto tempo j√° passou
- **Tempo estimado**: Previs√£o para conclus√£o
- **Velocidade**: Compara√ß√µes por segundo
- **Pessoas analisadas**: Quantas j√° foram processadas

#### Resultados da An√°lise
Ap√≥s a conclus√£o:
- **Grupos duplicados encontrados**: Quantos grupos de duplicatas
- **Total de pessoas duplicadas**: Quantas pessoas est√£o duplicadas
- **Estat√≠sticas detalhadas**: Performance da an√°lise
- **Cache**: Resultados ficam salvos por 10 minutos

### Visualizando Duplicatas Encontradas

#### Lista de Grupos
Cada grupo mostra:
- **Pessoas similares**: Lista das pessoas do grupo
- **Similaridade**: Percentual de semelhan√ßa
- **Frequ√™ncias**: Quantas frequ√™ncias cada pessoa tem
- **Dados**: Nome, CPF, cidade de cada pessoa

#### Ordena√ß√£o
Os grupos s√£o ordenados por:
1. **Maior similaridade** primeiro
2. **Mais frequ√™ncias** em caso de empate

### Mesclando Duplicatas

#### Selecionando para Mesclagem
1. **Revise cada grupo** cuidadosamente
2. **Identifique a pessoa principal** (dados mais completos)
3. **Marque as pessoas** que s√£o duplicatas
4. **Clique em "Mesclar Selecionadas"**

#### Processo de Mesclagem
O sistema ir√°:
1. **Manter a pessoa principal** com todos os dados
2. **Transferir todas as frequ√™ncias** das duplicatas
3. **Mesclar informa√ß√µes** complementares (telefone, email)
4. **Remover as pessoas duplicadas**
5. **Manter hist√≥rico** das frequ√™ncias

#### Valida√ß√µes de Seguran√ßa
- ‚úÖ **Pessoa principal** n√£o pode estar nas secund√°rias
- ‚úÖ **M√°ximo 10 pessoas** por opera√ß√£o
- ‚úÖ **Transa√ß√µes seguras** para integridade
- ‚úÖ **Backup autom√°tico** antes da opera√ß√£o

### Mesclagem em Lote
Para **m√∫ltiplos grupos**:
1. **Selecione v√°rios grupos**
2. **Defina pessoa principal** em cada um
3. **Clique em "Mesclar Lote"**
4. **Acompanhe o progresso** da opera√ß√£o

### Dicas Importantes
- üîç **Revise sempre** antes de mesclar
- üíæ **Fa√ßa backup** antes de opera√ß√µes grandes
- ‚è∞ **Use o cache** - n√£o analise repetidamente
- üìä **Verifique frequ√™ncias** ap√≥s mesclagem

## ‚öôÔ∏è Configura√ß√µes

### Acessando Configura√ß√µes
1. **No painel**, clique em **"‚öôÔ∏è Configura√ß√µes"**
2. **Escolha a op√ß√£o** desejada

### Op√ß√µes Dispon√≠veis

#### Editar Perfil
- **Alterar nome** de exibi√ß√£o
- **Alterar e-mail** de login
- **Visualizar informa√ß√µes** da conta

#### Alterar Senha
- **Trocar senha** atual
- **Definir nova senha** segura
- **Confirma√ß√£o** obrigat√≥ria

#### Informa√ß√µes da Conta
- **Tipo de usu√°rio** (administrador, respons√°vel, geral)
- **Data de cria√ß√£o** da conta
- **√öltimo login** realizado
- **Pessoa vinculada** (se houver)

## üí° Dicas e Truques

### Cadastro Eficiente
- üìù **Nome √© obrigat√≥rio** - sempre preencha
- üÜî **CPF evita duplicatas** - use quando poss√≠vel
- üì± **Telefone com DDD** - facilita contato
- üè† **Cidade completa** - melhora relat√≥rios

### Busca R√°pida
- üîç **Digite apenas parte** do nome para buscar
- üìã **CPF sem pontos** tamb√©m funciona
- üèôÔ∏è **Busque por cidade** para filtrar regi√£o
- ‚å®Ô∏è **Use Enter** para buscar rapidamente

### Frequ√™ncia Eficiente
- üé´ **Tenha a senha** em m√£os antes de buscar
- üìÖ **Data autom√°tica** - n√£o precisa alterar
- üêï **Pet tutor** - preencha ambas as senhas
- ‚úÖ **Confirme sempre** antes de registrar

### Relat√≥rios √öteis
- üìä **Use filtros** para dados espec√≠ficos
- üìà **Compare per√≠odos** para an√°lises
- üíæ **Exporte regularmente** para backup
- üì± **CSV abre no Excel** facilmente

### Duplicatas
- üîç **Analise mensalmente** para manter limpo
- üëÄ **Revise sempre** antes de mesclar
- üìä **Pessoa com mais frequ√™ncias** geralmente √© principal
- üíæ **Fa√ßa backup** antes de opera√ß√µes grandes

### Seguran√ßa
- üîê **Troque senhas** regularmente
- üö™ **Fa√ßa logout** ao sair
- üë• **N√£o compartilhe** credenciais
- üì± **Use senhas fortes** (8+ caracteres)

## ‚ùì Perguntas Frequentes

### Cadastro e Pessoas

**P: Posso cadastrar sem CPF?**
R: Sim, apenas o nome √© obrigat√≥rio. Mas o CPF ajuda a evitar duplicatas.

**P: O que fazer se o CPF j√° existe?**
R: Verifique se a pessoa j√° est√° cadastrada. Se for duplicata, use o sistema de mesclagem.

**P: Como editar dados de uma pessoa?**
R: Busque a pessoa na tela de Frequ√™ncia, altere os dados e clique em "Atualizar Dados".

**P: Posso excluir uma pessoa?**
R: N√£o h√° fun√ß√£o de exclus√£o. Use o sistema de duplicatas para mesclar registros.

### Frequ√™ncia

**P: Posso registrar frequ√™ncia de dias anteriores?**
R: Sim, altere a data no formul√°rio antes de registrar.

**P: O que fazer se registrei frequ√™ncia errada?**
R: N√£o h√° fun√ß√£o de exclus√£o de frequ√™ncia. Contate o administrador.

**P: Por que n√£o consigo registrar frequ√™ncia duplicada?**
R: O sistema impede duplicatas na mesma data para evitar erros.

**P: Qual a diferen√ßa entre os tipos de frequ√™ncia?**
R: Cada tipo representa um atendimento diferente (geral, hospital, pet, etc.).

### Relat√≥rios

**P: Por que o relat√≥rio est√° vazio?**
R: Verifique os filtros de data e tipo. Pode n√£o haver dados no per√≠odo selecionado.

**P: Como exportar para Excel?**
R: Use a op√ß√£o "CSV" ou "XLSX" nos bot√µes de exporta√ß√£o.

**P: Os relat√≥rios incluem todas as pessoas?**
R: Sim, os relat√≥rios n√£o t√™m limite. Apenas a busca √© limitada a 50 resultados.

### Usu√°rios

**P: Como criar um novo usu√°rio?**
R: Apenas administradores podem criar usu√°rios. Use o menu "Usu√°rios".

**P: Esqueci minha senha, o que fazer?**
R: Pe√ßa para um administrador fazer o reset da sua senha.

**P: Posso alterar meu tipo de usu√°rio?**
R: N√£o, apenas administradores podem alterar tipos de usu√°rio.

### Duplicatas

**P: Com que frequ√™ncia devo analisar duplicatas?**
R: Recomendamos mensalmente ou quando houver muitos cadastros novos.

**P: A mesclagem pode ser desfeita?**
R: N√£o, a mesclagem √© permanente. Sempre revise antes de confirmar.

**P: Por que a an√°lise demora tanto?**
R: O sistema compara cada pessoa com todas as outras. Muitas pessoas = mais tempo.

### T√©cnicas

**P: O sistema funciona offline?**
R: N√£o, √© necess√°ria conex√£o com o servidor local.

**P: Posso acessar de outros computadores?**
R: Sim, desde que estejam na mesma rede e acessem o IP correto.

**P: Como fazer backup dos dados?**
R: Use as ferramentas de backup do MySQL ou exporte relat√≥rios regularmente.

**P: O sistema tem limite de pessoas?**
R: N√£o h√° limite t√©cnico. O sistema foi testado com mais de 4.600 pessoas.

### Problemas Comuns

**P: A p√°gina n√£o carrega, o que fazer?**
R: Verifique se o servidor PHP est√° rodando (`php -S localhost:8080`) e se a URL est√° correta.

**P: Erro "Token expirado", como resolver?**
R: Fa√ßa login novamente. Tokens expiram por seguran√ßa.

**P: N√£o consigo fazer login, o que fazer?**
R: Verifique usu√°rio/senha. Se persistir, pe√ßa reset para administrador.

**P: O sistema est√° lento, √© normal?**
R: Pode ser normal com muitos dados. Verifique conex√£o e recursos do servidor.

---

## üìû Suporte

### Informa√ß√µes de Contato
- **Sistema**: Terra do Bugio v1.0.0
- **Suporte T√©cnico**: Administrador do sistema
- **Documenta√ß√£o**: Consulte os arquivos .md do projeto

### Recursos Adicionais
- **Manual T√©cnico**: DOCUMENTACAO_COMPLETA.md
- **API Reference**: API_REFERENCE.md
- **Guia de Instala√ß√£o**: GUIA_INSTALACAO.md

---

**¬© 2024 Sistema de Recep√ß√£o Terra do Bugio - Guia do Usu√°rio v1.0.0**
